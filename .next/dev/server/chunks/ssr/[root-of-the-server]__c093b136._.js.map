{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/alexandrybkin/shoom/app/room/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\n\ntype Phase = 'intro' | 'round' | 'ad' | 'finished';\ntype Player = 'A' | 'B';\n\nexport default function RoomPage() {\n  const [phase, setPhase] = useState<Phase>('intro');\n  const [rounds] = useState<Player[]>(['A', 'B', 'A', 'B']);\n  const [currentRoundIndex, setCurrentRoundIndex] = useState(0);\n  const [activePlayer, setActivePlayer] = useState<Player | null>(null);\n  const [timeLeft, setTimeLeft] = useState(15);\n  const [isAdVisible, setIsAdVisible] = useState(false);\n\n  // Main game loop and timer\n  useEffect(() => {\n    if (phase === 'ad' || phase === 'finished') return;\n\n    const interval = setInterval(() => {\n      setTimeLeft((prev) => {\n        if (prev <= 1) {\n          // Time's up logic\n          if (phase === 'intro') {\n            setPhase('round');\n            setActivePlayer(rounds[0]);\n            return 45; // Start first round\n          }\n\n          if (phase === 'round') {\n            if (currentRoundIndex < rounds.length - 1) {\n              // Next round\n              const nextIndex = currentRoundIndex + 1;\n              setCurrentRoundIndex(nextIndex);\n              setActivePlayer(rounds[nextIndex]);\n              return 45;\n            } else {\n              // All rounds done\n              setPhase('ad');\n              setIsAdVisible(true);\n              return 0;\n            }\n          }\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, [phase, currentRoundIndex, rounds]);\n\n  // Ad banner logic\n  useEffect(() => {\n    if (phase !== 'ad') return;\n\n    const timeout = setTimeout(() => {\n      setPhase('finished');\n      setIsAdVisible(false);\n    }, 4000);\n\n    return () => clearTimeout(timeout);\n  }, [phase]);\n\n  const isPlayerAActive = activePlayer === 'A';\n  const isPlayerBActive = activePlayer === 'B';\n  const isLowTime = timeLeft <= 10;\n  \n  // Visual state helpers\n  const showIntro = phase === 'intro';\n  const showRound = phase === 'round';\n  const showAd = phase === 'ad';\n  const showFinished = phase === 'finished';\n\n  return (\n    <main className=\"relative flex h-screen flex-col overflow-hidden bg-slate-950\">\n      {/* Player A Section - Top Half */}\n      <section\n        className={`relative flex h-1/2 items-center justify-center border-l-8 bg-slate-900 transition-all duration-300 ${\n          showRound && isPlayerAActive\n            ? 'border-blue-500 shadow-[inset_0_0_30px_rgba(59,130,246,0.3)]'\n            : showIntro \n              ? 'border-blue-500/50' \n              : 'border-blue-500/30 opacity-60'\n        }`}\n      >\n        <div className=\"text-center\">\n          <p className=\"text-2xl font-semibold text-slate-300\">\n            Waiting for Video...\n          </p>\n        </div>\n        <div className=\"absolute left-6 top-6\">\n          <span className=\"text-sm font-bold uppercase tracking-wider text-blue-400\">\n            Player A\n          </span>\n        </div>\n      </section>\n\n      {/* Player B Section - Bottom Half */}\n      <section\n        className={`relative flex h-1/2 items-center justify-center border-l-8 bg-slate-900 transition-all duration-300 ${\n          showRound && isPlayerBActive\n            ? 'border-red-500 shadow-[inset_0_0_30px_rgba(239,68,68,0.3)]'\n            : showIntro \n              ? 'border-red-500/50' \n              : 'border-red-500/30 opacity-60'\n        }`}\n      >\n        <div className=\"text-center\">\n          <p className=\"text-2xl font-semibold text-slate-300\">\n            Waiting for Video...\n          </p>\n        </div>\n        <div className=\"absolute left-6 top-6\">\n          <span className=\"text-sm font-bold uppercase tracking-wider text-red-400\">\n            Player B\n          </span>\n        </div>\n      </section>\n\n      {/* Center Overlay: Intro / Timer / Ad / Finished */}\n      {showAd ? (\n        <div className=\"absolute left-1/2 top-1/2 w-full max-w-2xl -translate-x-1/2 -translate-y-1/2 bg-gradient-to-r from-yellow-500 to-orange-500 px-8 py-12 text-center shadow-2xl\">\n          <h2 className=\"text-6xl font-black uppercase tracking-widest text-white\">\n            –†–ï–ö–õ–ê–ú–ê\n          </h2>\n        </div>\n      ) : showFinished ? (\n        <div className=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 rounded-xl bg-black/80 px-8 py-4 text-center backdrop-blur-md\">\n          <h2 className=\"text-3xl font-bold text-white\">Round finished</h2>\n        </div>\n      ) : (\n        <div\n          className={`pointer-events-none absolute left-1/2 top-1/2 flex h-32 w-32 -translate-x-1/2 -translate-y-1/2 flex-col items-center justify-center rounded-full border-4 bg-black/50 ${\n            showRound && isPlayerAActive ? 'border-blue-500' : \n            showRound && isPlayerBActive ? 'border-red-500' : \n            'border-slate-500'\n          } ${isLowTime ? 'animate-pulse' : ''}`}\n        >\n          <span\n            className={`text-5xl font-bold ${\n              isLowTime ? 'text-red-500' : 'text-white'\n            }`}\n          >\n            {timeLeft}s\n          </span>\n          {showIntro && (\n            <span className=\"mt-1 text-xs font-bold uppercase tracking-widest text-slate-300\">\n              INTRO\n            </span>\n          )}\n        </div>\n      )}\n\n      {/* Bottom Action Bar */}\n      <div className=\"absolute bottom-8 left-1/2 flex -translate-x-1/2 gap-3 rounded-full bg-black/70 px-6 py-3 backdrop-blur-sm\">\n        <button className=\"rounded-lg bg-slate-700 px-5 py-2.5 text-sm font-semibold text-white transition hover:bg-slate-600 active:scale-95\">\n          Mute Mic\n        </button>\n        <button className=\"rounded-lg bg-slate-700 px-5 py-2.5 text-sm font-semibold text-white transition hover:bg-slate-600 active:scale-95\">\n          üçÖ Tomato\n        </button>\n        <button className=\"rounded-lg bg-red-600 px-5 py-2.5 text-sm font-semibold text-white transition hover:bg-red-500 active:scale-95\">\n          Leave\n        </button>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 268, "column": 0}, "map": {"version":3,"sources":["file:///Users/alexandrybkin/shoom/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file:///Users/alexandrybkin/shoom/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///Users/alexandrybkin/shoom/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}