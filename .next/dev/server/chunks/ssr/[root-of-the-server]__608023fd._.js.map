{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///Users/alexandrybkin/shoom/app/room/%5BroomId%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { io, Socket } from 'socket.io-client';\nimport { Play, SkipForward, RotateCcw, PlayCircle, X } from 'lucide-react';\nimport {\n  LiveKitRoom,\n  ParticipantTile,\n  useTracks,\n  RoomAudioRenderer,\n} from '@livekit/components-react';\nimport '@livekit/components-styles';\nimport { Track } from 'livekit-client';\n\n// --- Types ---\ntype Phase = 'waiting' | 'intro' | 'roundA' | 'roundB' | 'ad' | 'voting' | 'rage' | 'finished';\ntype Role = 'viewer' | 'admin' | 'debater';\n\ninterface Message {\n  id: string;\n  user: string;\n  text: string;\n  isDonation: boolean;\n  amount?: number;\n}\n\ninterface FloatingEmoji {\n  id: number;\n  x: number;\n  emoji: string;\n}\n\ninterface ServerState {\n  phase: Phase;\n  timeLeft: number;\n  activePlayer: 'A' | 'B' | null;\n  viewersCount: number;\n  chatMessages: Message[];\n  donations: { user: string; amount: number }[];\n}\n\n// --- Custom Smart View ---\nfunction DualSpeakerView({ activePlayer }: { activePlayer: 'A' | 'B' | null }) {\n  const tracks = useTracks([Track.Source.Camera]);\n  const trackA = tracks[0];\n  const trackB = tracks[1];\n\n  return (\n    <div className=\"flex flex-col md:flex-row h-full w-full bg-black p-1 gap-1\">\n      {/* Speaker A */}\n      <div className={`\n        relative flex flex-col justify-center bg-slate-900 rounded-xl overflow-hidden border-2 border-red-900/50 transition-all duration-500 ease-in-out\n        ${activePlayer === 'A' ? 'flex-[1.5] border-red-500 shadow-red-900/20 z-10' : 'flex-1'}\n      `}>\n        {trackA ? (\n          <ParticipantTile trackRef={trackA} className=\"h-full w-full object-cover\" />\n        ) : (\n          <div className=\"flex flex-col items-center justify-center h-full text-slate-700\">\n            <span className=\"text-2xl md:text-4xl animate-pulse\">üî¥</span>\n            <span className=\"text-[10px] font-bold uppercase mt-2\">Waiting Red...</span>\n          </div>\n        )}\n        <div className=\"absolute top-2 left-2 bg-red-600 px-2 py-0.5 rounded text-[8px] md:text-[10px] font-bold text-white uppercase\">Red</div>\n      </div>\n\n      {/* Speaker B */}\n      <div className={`\n        relative flex flex-col justify-center bg-slate-900 rounded-xl overflow-hidden border-2 border-blue-900/50 transition-all duration-500 ease-in-out\n        ${activePlayer === 'B' ? 'flex-[1.5] border-blue-500 shadow-blue-900/20 z-10' : 'flex-1'}\n      `}>\n        {trackB ? (\n          <ParticipantTile trackRef={trackB} className=\"h-full w-full object-cover\" />\n        ) : (\n          <div className=\"flex flex-col items-center justify-center h-full text-slate-700\">\n            <span className=\"text-2xl md:text-4xl animate-pulse\">üîµ</span>\n            <span className=\"text-[10px] font-bold uppercase mt-2\">Waiting Blue...</span>\n          </div>\n        )}\n        <div className=\"absolute top-2 right-2 bg-blue-600 px-2 py-0.5 rounded text-[8px] md:text-[10px] font-bold text-white uppercase\">Blue</div>\n      </div>\n    </div>\n  );\n}\n\nfunction VictoryOverlay({ phase, onVote, onClose, isVisible }: { phase: Phase, onVote: (team: 'A' | 'B') => void, onClose: () => void, isVisible: boolean }) {\n  if (!isVisible || (phase !== 'voting' && phase !== 'finished')) return null;\n\n  return (\n    <div className=\"absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in duration-300 p-4\">\n       <button \n         onClick={onClose}\n         className=\"absolute top-4 right-4 p-2 text-white/50 hover:text-white hover:bg-white/10 rounded-full transition-all z-50 cursor-pointer\"\n       >\n         <X size={32} />\n       </button>\n\n       <div className=\"flex flex-col items-center w-full max-w-4xl\">\n          <h1 className=\"text-5xl md:text-8xl font-black text-white italic tracking-tighter drop-shadow-[0_0_30px_rgba(255,255,255,0.3)] mb-8 text-center transform -skew-x-6\">\n             {phase === 'voting' ? 'WHO WON?' : 'WINNER IS...'}\n          </h1>\n\n          <div className=\"flex flex-row items-center justify-center gap-4 md:gap-16 w-full mb-8\">\n             <div className=\"flex flex-col items-center gap-4 group\">\n               <div className=\"w-24 h-24 md:w-56 md:h-56 bg-black rounded-2xl md:rounded-3xl shadow-[0_0_30px_rgba(220,38,38,0.5)] border-2 md:border-4 border-red-500 flex items-center justify-center relative overflow-hidden\">\n                  <div className=\"absolute inset-0 bg-red-600/20 group-hover:bg-red-600/30 transition-colors\"/>\n                  <span className=\"text-4xl md:text-8xl relative z-10\">üî¥</span>\n               </div>\n               <button onClick={() => onVote('A')} className=\"px-6 py-2 md:px-10 md:py-4 bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white font-black text-sm md:text-2xl uppercase tracking-widest rounded-xl transition-all hover:scale-105 active:scale-95 shadow-xl shadow-red-900/50\">\n                 Vote Red\n               </button>\n             </div>\n             <div className=\"text-4xl md:text-8xl font-black text-white/20 italic select-none\">VS</div>\n             <div className=\"flex flex-col items-center gap-4 group\">\n               <div className=\"w-24 h-24 md:w-56 md:h-56 bg-black rounded-2xl md:rounded-3xl shadow-[0_0_30px_rgba(37,99,235,0.5)] border-2 md:border-4 border-blue-500 flex items-center justify-center relative overflow-hidden\">\n                  <div className=\"absolute inset-0 bg-blue-600/20 group-hover:bg-blue-600/30 transition-colors\"/>\n                  <span className=\"text-4xl md:text-8xl relative z-10\">üîµ</span>\n               </div>\n               <button onClick={() => onVote('B')} className=\"px-6 py-2 md:px-10 md:py-4 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-black text-sm md:text-2xl uppercase tracking-widest rounded-xl transition-all hover:scale-105 active:scale-95 shadow-xl shadow-blue-900/50\">\n                 Vote Blue\n               </button>\n             </div>\n          </div>\n\n          <div className=\"w-full max-w-lg h-4 md:h-6 bg-slate-900/80 rounded-full overflow-hidden flex border border-white/10 relative\">\n             <div className=\"absolute inset-0 flex items-center justify-center z-10 gap-12 md:gap-20\">\n                <span className=\"text-[10px] md:text-xs font-bold text-white shadow-black drop-shadow-md\">50%</span>\n                <span className=\"text-[10px] md:text-xs font-bold text-white shadow-black drop-shadow-md\">50%</span>\n             </div>\n             <div className=\"h-full bg-red-600/80\" style={{ width: '50%' }} />\n             <div className=\"h-full bg-blue-600/80\" style={{ width: '50%' }} />\n          </div>\n       </div>\n    </div>\n  );\n}\n\nexport default function DebateRoom() {\n  const [role, setRole] = useState<Role>('viewer');\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [input, setInput] = useState('');\n  const [floatingEmojis, setFloatingEmojis] = useState<FloatingEmoji[]>([]);\n  const [token, setToken] = useState('');\n  const [showVoteModal, setShowVoteModal] = useState(false);\n  \n  const [serverState, setServerState] = useState<ServerState>({\n    phase: 'waiting',\n    timeLeft: 0,\n    activePlayer: null,\n    viewersCount: 0,\n    chatMessages: [],\n    donations: []\n  });\n\n  const socketRef = useRef<Socket | null>(null);\n  const chatEndRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const fetchToken = async () => {\n      try {\n        setToken('');\n        const API_URL = process.env.NEXT_PUBLIC_SOCKET_URL || 'http://localhost:4000';\n        const participantName = `${role}-${Math.random().toString(36).substring(7)}`;\n        const lkRole = role === 'debater' ? 'debater' : 'viewer';\n        const res = await fetch(`${API_URL}/api/token?roomName=debate-room&participantName=${participantName}&role=${lkRole}`);\n        const data = await res.json();\n        setToken(data.token);\n      } catch (error) { console.error(error); }\n    };\n    fetchToken();\n  }, [role]);\n\n  useEffect(() => {\n    if (serverState.phase === 'voting' || serverState.phase === 'finished') {\n      setShowVoteModal(true);\n    } else {\n      setShowVoteModal(false);\n    }\n  }, [serverState.phase]);\n\n  useEffect(() => {\n    if (socketRef.current) return;\n    const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000';\n    const socket = io(API_URL, { transports: ['websocket', 'polling'] });\n    socketRef.current = socket;\n\n    socket.on('state_update', setServerState);\n    socket.on('chat_update', (newMsg: Message) => {\n      setMessages(prev => { if (prev.some(m => m.id === newMsg.id)) return prev; return [...prev, newMsg]; });\n      setTimeout(() => chatEndRef.current?.scrollIntoView({ behavior: 'smooth' }), 100);\n    });\n    socket.on('reaction_received', (data) => {\n      const emoji = data.type === 'heart' ? '‚ù§Ô∏è' : 'üí©';\n      const id = Date.now() + Math.random();\n      setFloatingEmojis(prev => [...prev, { id, x: Math.random() * 80 + 10, emoji }]);\n      setTimeout(() => setFloatingEmojis(prev => prev.filter(e => e.id !== id)), 2000);\n    });\n    return () => { socketRef.current?.disconnect(); socketRef.current = null; };\n  }, []);\n\n  const sendAdminAction = (action: string) => socketRef.current?.emit('admin_action', { action });\n  const sendChatMessage = (text: string, isDonation = false, amount = 0) => {\n    if (!socketRef.current) return;\n    socketRef.current.emit('send_message', { user: role === 'admin' ? 'Admin' : 'Me', text, isDonation, amount });\n  };\n  const sendMessage = (e?: React.FormEvent) => { e?.preventDefault(); if (!input.trim()) return; sendChatMessage(input); setInput(''); };\n  const handleVote = (team: 'A' | 'B') => { sendChatMessage(`/vote ${team}`); setShowVoteModal(false); };\n  const sendReaction = (type: 'heart' | 'poop') => socketRef.current?.emit('send_reaction', { type });\n  const sendDonation = () => socketRef.current?.emit('send_message', { user: 'Rich Guy', text: '$$$', isDonation: true, amount: 500 });\n  const formatTime = (seconds: number) => { const m = Math.floor(seconds / 60); const s = seconds % 60; return `${m}:${s < 10 ? '0' : ''}${s}`; };\n\n  if (!token) return <div className=\"flex h-screen w-screen items-center justify-center bg-slate-950 text-white animate-pulse\">Loading Room...</div>;\n\n  return (\n    // FIX: max-h-[100dvh] and overflow-hidden prevent body scroll\n    <div className=\"h-[100dvh] max-h-[100dvh] w-screen bg-slate-950 text-white font-sans overflow-hidden flex flex-col md:grid md:grid-cols-[1fr_350px]\">\n      <LiveKitRoom\n        key={role}\n        video={role === 'debater'}\n        audio={role === 'debater'}\n        token={token}\n        serverUrl={process.env.NEXT_PUBLIC_LIVEKIT_URL || \"wss://shoom-1bcua3f5.livekit.cloud\"}\n        connect={true}\n        options={{ publishDefaults: { simulcast: true }, adaptiveStream: true }}\n        data-lk-theme=\"default\"\n        className=\"contents\" \n      >\n        \n        {/* === AREA 1: VIDEO === */}\n        <div className=\"relative h-[60%] md:h-full w-full bg-black flex flex-col overflow-hidden\">\n          <DualSpeakerView activePlayer={serverState.activePlayer} />\n\n          {/* Overlays */}\n          <div className=\"absolute inset-0 pointer-events-none\">\n            <div className=\"absolute top-4 left-1/2 -translate-x-1/2 flex flex-col items-center z-20\">\n              <div className={`text-4xl md:text-6xl font-black font-mono tabular-nums tracking-tighter drop-shadow-lg ${serverState.timeLeft <= 10 && serverState.phase !== 'waiting' ? 'text-red-500 animate-pulse' : 'text-white'}`}>\n                {formatTime(serverState.timeLeft)}\n              </div>\n              <div className=\"text-[10px] font-bold uppercase tracking-widest text-slate-300 bg-black/50 px-2 rounded backdrop-blur-sm border border-white/5\">\n                {serverState.phase}\n              </div>\n            </div>\n            <div className=\"absolute top-4 left-4 flex items-center gap-2 bg-black/30 backdrop-blur px-2 py-1 rounded-full border border-white/5\">\n              <span className=\"w-1.5 h-1.5 bg-red-500 rounded-full animate-pulse\"/>\n              <span className=\"text-[10px] font-bold text-slate-200\">{serverState.viewersCount}</span>\n            </div>\n            {floatingEmojis.map(emoji => (\n              <div key={emoji.id} className=\"absolute text-4xl animate-float-up opacity-0\" style={{ left: `${emoji.x}%`, bottom: '20%' }}>{emoji.emoji}</div>\n            ))}\n          </div>\n\n          {/* Admin Controls */}\n          {role === 'admin' && (\n            <div className=\"absolute bottom-4 left-1/2 -translate-x-1/2 z-30 flex gap-2 bg-black/80 p-1.5 rounded-xl border border-white/10 pointer-events-auto\">\n              <button onClick={() => sendAdminAction('start')} className=\"p-2 hover:bg-green-600 rounded-lg text-white\"><PlayCircle size={20}/></button>\n              <button onClick={() => sendAdminAction('next_round')} className=\"p-2 hover:bg-blue-600 rounded-lg text-white\"><SkipForward size={20}/></button>\n              <button onClick={() => sendAdminAction('reset')} className=\"p-2 hover:bg-red-600 rounded-lg text-white\"><RotateCcw size={20}/></button>\n            </div>\n          )}\n\n           {/* Role Switcher */}\n           <div className=\"absolute top-4 right-4 z-50 pointer-events-auto flex gap-1\">\n            {(['viewer', 'admin', 'debater'] as Role[]).map((r) => (\n              <button key={r} onClick={() => setRole(r)} className={`px-2 py-0.5 text-[8px] md:text-[10px] uppercase font-bold rounded ${role === r ? 'bg-blue-600 text-white' : 'bg-black/50 text-slate-400'}`}>\n                {r}\n              </button>\n            ))}\n          </div>\n          <VictoryOverlay phase={serverState.phase} isVisible={showVoteModal} onClose={() => setShowVoteModal(false)} onVote={handleVote} />\n        </div>\n\n        {/* === AREA 2: CHAT === */}\n        {/* FIX: overflow-hidden on parent column ensures children don't push size */}\n        <div className=\"flex-1 h-[40%] md:h-full w-full bg-slate-950 flex flex-col border-t md:border-t-0 md:border-l border-slate-800 z-10 overflow-hidden\">\n          <div className=\"hidden md:flex p-3 border-b border-slate-800 justify-between items-center bg-slate-900 shrink-0\">\n            <span className=\"text-xs font-bold text-slate-400 uppercase\">Live Chat</span>\n          </div>\n\n          {/* FIX: min-h-0 allows flex child to shrink and scroll */}\n          <div className=\"flex-1 overflow-x-hidden overflow-y-auto px-4 py-2 space-y-2 scrollbar-thin scrollbar-thumb-slate-800 w-full min-h-0\">\n             {messages.map((msg, idx) => (\n               <div key={idx} className={`flex items-start gap-2 text-xs md:text-sm animate-fade-in w-full ${msg.isDonation ? 'bg-yellow-500/10 p-2 rounded border border-yellow-500/20' : ''}`}>\n                 <span className={`font-bold shrink-0 ${msg.user === 'Admin' ? 'text-red-400' : 'text-blue-400'}`}>{msg.user}:</span>\n                 <span className={`text-slate-300 min-w-0 break-all whitespace-pre-wrap w-full ${msg.isDonation ? 'text-yellow-100 font-medium' : ''}`}>\n                    {msg.text}\n                 </span>\n               </div>\n             ))}\n             <div ref={chatEndRef} />\n          </div>\n\n          <div className=\"p-2 md:p-4 bg-slate-900 border-t border-slate-800 shrink-0\">\n            {role === 'viewer' && (\n              <div className=\"flex justify-center gap-6 mb-2 md:hidden\">\n                 <button onClick={() => sendReaction('heart')} className=\"text-xl p-2 bg-slate-800 rounded-full active:scale-90 transition-transform\">‚ù§Ô∏è</button>\n                 <button onClick={() => sendReaction('poop')} className=\"text-xl p-2 bg-slate-800 rounded-full active:scale-90 transition-transform\">üí©</button>\n              </div>\n            )}\n            <form onSubmit={sendMessage} className=\"flex gap-2\">\n              <input \n                className=\"flex-1 bg-slate-800 border border-slate-700 rounded-full px-4 py-2 text-sm text-white focus:outline-none focus:border-blue-500\"\n                placeholder=\"Chat...\"\n                value={input}\n                onChange={e => setInput(e.target.value)}\n              />\n              <button type=\"button\" onClick={sendDonation} className=\"p-2 bg-yellow-600/20 text-yellow-500 rounded-full border border-yellow-600/50\">üí∞</button>\n            </form>\n          </div>\n        </div>\n\n        <RoomAudioRenderer />\n        <style jsx global>{`\n          @keyframes float-up { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(-100px); opacity: 0; } }\n          @keyframes fade-in { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }\n          .animate-float-up { animation: float-up 1.5s ease-out forwards; }\n          .animate-fade-in { animation: fade-in 0.2s ease-out forwards; }\n        `}</style>\n      </LiveKitRoom>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}